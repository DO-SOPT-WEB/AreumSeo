## 🖤 API 통신에 대하여

- **`로딩 / 에러 처리를 하는 방법에는 어떤 것들이 있을까?`**
    
    데이터를 서버에서 받아오는 동안에는 스켈레톤 UI를 보여주어 사용자가 데이터를 받아오는 중이라고 인식하게 된다. 또한, 데이터를 불러오는 동안 오류가 발생하거나 데이터를 요청한지 너무 오래 걸렸거나 예상치 못한 오류가 발생한 경우와 같이 에러 상황이 발생한 경우, 이를 사용자에게 알려줘야 한다. 이러한 처리가 없다면, 사용자는 오랜 기간 로딩 UI만 쳐다보게 되거나 이탈하게 된다.
    
    로딩/ 에러 처리를 하기 위해서는 로딩 상태인지, 에러 상태인지 등 상태를 체크하고 이에 따라 상태 값을 변경해줘야 한다. 이때 컴포넌트는 비지니스 로직을 파악하기 쉽게 설계하여, 하는 일이 무엇인지 명확하게 파악할 수 있어야 한다. 데이터 패칭 여부나 에러 핸들링 로직은 외부로 위임하고 컴포넌트는 비지니스로만 책임지는 설계를 하도록 React Suspense와 Error boundary를 사용할 수 있다.
    
    - suspense
        - children의 로딩이 완료될 때까지 다른 컴포넌트를 대신 보여줄 수 있게 해줌.
        - REST API 같이 비동기로 데이터를 가져오는 작업에서 활용도가 높음.
        - 어떤 컴포넌트가 필요한 데이터가 아직 준비되지 않은 상태라는 것을 리액트에게 알려주는 메커니즘.
    - error boundary
        - 하위 컴포넌트 트리의 렌더링 중 발생한 에러를 감지하여 컴포넌트 트리 대신 풀백 UI를 보여줄 수 있는 컴포넌트
        - 하위 컴포넌트에서 에러 발생 시, throw하여 에러에 관한 책임을 Error boundary가 갖게 함
    
    <br />
    
- **`패칭 라이브러리란 무엇이고 어떤 것들이 있을까?`**
    
    데이터 패칭이란 웹 애플리케이션에서 서버로부터 데이터를 가져오는 기능을 의미한다. 이런 작업을 단순화하고 관리를 유용하게 하기 위해 사용하는 것이 데이터 패칭 라이브러리이다. 주로 웹 API를 통해 데이터를 요청하고, 응답을 받아와서 애플리케이션의 상태를 업데이트하는 작업을 처리한다. 또한, HTTP 요청, 상태 관리, 오류 처리 등 다양한 기능을 제공하여 데이터를 효율적으로 관리하고 렌더링을 업데이트 하는데 도움을 준다.
    
    대표적인 패칭 라이브러리에는 swr과 react query가 있다.
    
    - swr
        - 캐시에서 데이터 반환 후, 서버에서 데이터를 가져오는 요청 수행 → 마지막에 최신 데이터 제공
        - 별도의 provider 없이, 컴포넌트에서 바로 사용 가능
        - fetcher 인자로 useSWR의 첫번째 인자를 넘겨줌.
    - react query
        - 리액트 애플리케이션에 서버 상태를 가져오고, 캐싱/ 동기화/ 업데이트를 쉽게 하도록 함.
        - provider로 컴포넌트를 감싸지 않을 경우 에러 발생
        - fetcher의 url을 직접 전달해야 함.
    
    <br />
    
- **`패칭 라이브러리를 쓰는 이유는 무엇일까?`**
    - 간편한 비동기 데이터 요청
        - 데이터 패칭 라이브러리는 비동기 요청을 단순화 하여 HTTP 요청을 보내고 응답 처리하는 것을 용이하게 만듦.
    - 상태 관리 및 업데이트 용이
        - 리액트와 데이터 패칭 라이브러리를 함께 사용하면, 서버에서 가져온 데이터를 리액트 상태로 쉽게 관리하고 화면을 업데이트 할 수 있음.
    - 캐싱과 최적화
        - 일부 라이브러리는 데이터를 캐싱하여 중복 요청을 줄이고, 새로운 데이터를 가져올 때 최적화된 요청을 수행함.
    - 로딩, 오류 처리
        - 네트워크 오류와 로딩 등을 적절히 처리하여 개발자에게 유용하고 편리한 개발 환경을 제공함.
    - 서버사이드 렌더링과 호환
        - 일부 라이브러리는 서버사이드렌더링과 잘 호환되어 초기 렌더링 성능을 개선하는데 도움을 줌.
        - 리액트와 함께 사용 시, 데이터 관리와 렌더링 성능 향상에 도움을 줌.